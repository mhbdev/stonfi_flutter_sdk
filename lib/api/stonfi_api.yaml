openapi: 3.0.3
info:
  title: StonfiApi
  description: ''
  license:
    name: Proprietary
  version: 1.30.0
paths:
  /export/cmc/v1:
    get:
      tags:
        - Export
      operationId: get_cmc_stats
      responses:
        '200':
          description: Pool statistics in CMC format
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  additionalProperties:
                    $ref: '#/components/schemas/CmcPoolStats'
  /export/dexscreener/v1/asset/{address}:
    get:
      tags:
        - Export
      operationId: screener_asset_info
      parameters:
        - name: address
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/AssetInfoScreenerResponse'
  /export/dexscreener/v1/events:
    get:
      tags:
        - Export
      operationId: screener_events
      parameters:
        - name: fromBlock
          in: query
          description: Block number of the response events start (inclusive)
          required: true
          schema:
            type: integer
            format: int32
        - name: toBlock
          in: query
          description: Block number of the response events end (inclusive)
          required: true
          schema:
            type: integer
            format: int32
      responses:
        '200':
          $ref: '#/components/responses/EventsResponse'
  /export/dexscreener/v1/latest-block:
    get:
      tags:
        - Export
      operationId: screener_latest_block
      responses:
        '200':
          $ref: '#/components/responses/LatestBlockResponse'
  /export/dexscreener/v1/pair/{address}:
    get:
      tags:
        - Export
      operationId: screener_pool_info
      parameters:
        - name: address
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/PoolInfoScreenerResponse'
  /v1/assets:
    get:
      tags:
        - Dex
      operationId: get_asset_list
      responses:
        '200':
          $ref: '#/components/responses/AssetListResponse'
  /v1/assets/query:
    post:
      tags:
        - Dex
      operationId: asset_query
      parameters:
        - name: condition
          in: query
          description: Condition
          required: false
          schema:
            type: string
            nullable: true
        - name: unconditional_assets
          in: query
          description: Unconditional assets
          required: false
          schema:
            type: array
            items:
              type: string
            nullable: true
        - name: wallet_address
          in: query
          description: Wallet address
          required: false
          schema:
            type: string
            nullable: true
      responses:
        '200':
          $ref: '#/components/responses/AssetListResponseV2'
  /v1/assets/search:
    post:
      tags:
        - Dex
      operationId: asset_search
      parameters:
        - name: search_string
          in: query
          description: Search string (by partial display name or symbol) or by full contract address
          required: true
          schema:
            type: string
        - name: condition
          in: query
          description: Condition
          required: false
          schema:
            type: string
            nullable: true
        - name: wallet_address
          in: query
          description: Wallet address
          required: false
          schema:
            type: string
            nullable: true
      responses:
        '200':
          $ref: '#/components/responses/AssetListResponseV2'
  /v1/assets/{addr_str}:
    get:
      tags:
        - Dex
      operationId: get_asset
      parameters:
        - name: addr_str
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/AssetResponse'
  /v1/farms:
    get:
      tags:
        - Dex
      operationId: get_farm_list
      responses:
        '200':
          $ref: '#/components/responses/FarmListResponse'
  /v1/farms/{addr_str}:
    get:
      tags:
        - Dex
      operationId: get_farm
      parameters:
        - name: addr_str
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/FarmResponse'
  /v1/farms_by_pool/{pool_addr_str}:
    get:
      tags:
        - Dex
      operationId: get_farms_by_pool
      parameters:
        - name: pool_addr_str
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/FarmListResponse'
  /v1/jetton/{addr_str}/address:
    get:
      tags:
        - Jetton
      operationId: get_wallet_address
      parameters:
        - name: owner_address
          in: query
          description: Address of the owner
          required: true
          schema:
            type: string
          example: EQCM3B12QK1e4yZSf8GtBRT0aLMNyEsBc_DhVfRRtOEffLez
        - name: addr_str
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/AddressResponse'
  /v1/markets:
    get:
      tags:
        - Dex
      operationId: get_market_list
      responses:
        '200':
          $ref: '#/components/responses/MarketListResponse'
  /v1/pools:
    get:
      tags:
        - Dex
      operationId: get_pool_list
      responses:
        '200':
          $ref: '#/components/responses/PoolListResponse'
  /v1/pools/{addr_str}:
    get:
      tags:
        - Dex
      operationId: get_pool
      parameters:
        - name: addr_str
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/PoolListResponse'
  /v1/reverse_swap/simulate:
    post:
      tags:
        - Dex
      operationId: dex_reverse_simulate_swap
      parameters:
        - name: offer_address
          in: query
          description: The address of the token we want to sell
          required: true
          schema:
            type: string
          example: EQBynBO23ywHy_CgarY9NK9FTz0yDsG82PtcbSTQgGoXwiuA
        - name: ask_address
          in: query
          description: The address of the token we want to buy
          required: true
          schema:
            type: string
          example: EQCM3B12QK1e4yZSf8GtBRT0aLMNyEsBc_DhVfRRtOEffLez
        - name: units
          in: query
          description: Number of token units we want to sell
          required: true
          schema:
            type: string
          example: '300'
        - name: slippage_tolerance
          in: query
          description: The maximum possible difference between the rates that we expect and which will actually be, in fractions (for example, 0.001 is 0.1%)
          required: true
          schema:
            type: string
          example: '0.001'
        - name: referral_address
          in: query
          description: Referral address
          required: false
          schema:
            type: string
            nullable: true
      responses:
        '200':
          $ref: '#/components/responses/SimulateSwapResponse'
  /v1/stats/dex:
    get:
      tags:
        - Stats
      operationId: get_dex_stats
      parameters:
        - name: since
          in: query
          description: Time since stats are requested (YYYY-MM-DDTHH:MM:SS)
          required: false
          schema:
            type: string
            nullable: true
          example: '2023-06-01T12:34:56'
        - name: until
          in: query
          description: Time until stats are requested (YYYY-MM-DDTHH:MM:SS)
          required: false
          schema:
            type: string
            nullable: true
          example: '2023-06-02T23:59:59'
      responses:
        '200':
          $ref: '#/components/responses/DexStatsResponse'
  /v1/stats/operations:
    get:
      tags:
        - Stats
      operationId: get_operation_stats
      parameters:
        - name: since
          in: query
          description: Time since the stats are requested (YYYY-MM-DDTHH:MM:SS)
          required: true
          schema:
            type: string
          example: '2023-06-01T12:34:56'
        - name: until
          in: query
          description: Time until pool stats are requested (YYYY-MM-DDTHH:MM:SS)
          required: true
          schema:
            type: string
          example: '2023-06-02T23:59:59'
      responses:
        '200':
          $ref: '#/components/responses/OperationsResponse'
  /v1/stats/pool:
    get:
      tags:
        - Stats
      operationId: get_pool_stats
      parameters:
        - name: since
          in: query
          description: Time since the stats are requested (YYYY-MM-DDTHH:MM:SS)
          required: true
          schema:
            type: string
          example: '2023-06-01T12:34:56'
        - name: until
          in: query
          description: Time until pool stats are requested (YYYY-MM-DDTHH:MM:SS)
          required: true
          schema:
            type: string
          example: '2023-06-02T23:59:59'
      responses:
        '200':
          $ref: '#/components/responses/PoolStatsResponse'
  /v1/swap/simulate:
    post:
      tags:
        - Dex
      operationId: dex_simulate_swap
      parameters:
        - name: offer_address
          in: query
          description: The address of the token we want to sell
          required: true
          schema:
            type: string
          example: EQBynBO23ywHy_CgarY9NK9FTz0yDsG82PtcbSTQgGoXwiuA
        - name: ask_address
          in: query
          description: The address of the token we want to buy
          required: true
          schema:
            type: string
          example: EQCM3B12QK1e4yZSf8GtBRT0aLMNyEsBc_DhVfRRtOEffLez
        - name: units
          in: query
          description: Number of token units we want to sell
          required: true
          schema:
            type: string
          example: '300'
        - name: slippage_tolerance
          in: query
          description: The maximum possible difference between the rates that we expect and which will actually be, in fractions (for example, 0.001 is 0.1%)
          required: true
          schema:
            type: string
          example: '0.001'
        - name: referral_address
          in: query
          description: Referral address
          required: false
          schema:
            type: string
            nullable: true
      responses:
        '200':
          $ref: '#/components/responses/SimulateSwapResponse'
  /v1/swap/status:
    get:
      tags:
        - Dex
      operationId: dex_swap_status
      parameters:
        - name: router_address
          in: query
          description: Address of the operation router
          required: true
          schema:
            type: string
          example: EQB3ncyBUTjZUA5EnFKR5_EnOMI9V1tTEAAPaiU71gc4TiUt
        - name: owner_address
          in: query
          description: Owner`s wallet address
          required: true
          schema:
            type: string
          example: EQCM3B12QK1e4yZSf8GtBRT0aLMNyEsBc_DhVfRRtOEffLez
        - name: query_id
          in: query
          description: Id of operation status query
          required: true
          schema:
            type: string
          example: '1'
      responses:
        '200':
          $ref: '#/components/responses/OperationStatusResponse'
  /v1/wallets/{addr_str}/assets:
    get:
      tags:
        - Wallets
      operationId: get_wallet_assets
      parameters:
        - name: addr_str
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/AssetListResponse'
  /v1/wallets/{addr_str}/assets/{asset_str}:
    get:
      tags:
        - Wallets
      operationId: get_wallet_asset
      parameters:
        - name: addr_str
          in: path
          required: true
          schema:
            type: string
        - name: asset_str
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/AssetResponse'
  /v1/wallets/{addr_str}/farms:
    get:
      tags:
        - Wallets
      operationId: get_wallet_farms
      parameters:
        - name: addr_str
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/FarmListResponse'
  /v1/wallets/{addr_str}/farms/{farm_str}:
    get:
      tags:
        - Wallets
      operationId: get_wallet_farm
      parameters:
        - name: addr_str
          in: path
          required: true
          schema:
            type: string
        - name: farm_str
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/FarmResponse'
  /v1/wallets/{addr_str}/operations:
    get:
      tags:
        - Wallets
      operationId: get_wallet_operations
      parameters:
        - name: since
          in: query
          description: Time since the stats are requested (YYYY-MM-DDTHH:MM:SS)
          required: true
          schema:
            type: string
          example: '2023-06-01T12:34:56'
        - name: until
          in: query
          description: Time until pool stats are requested (YYYY-MM-DDTHH:MM:SS)
          required: true
          schema:
            type: string
          example: '2023-06-02T23:59:59'
        - name: op_type
          in: query
          description: target op type
          required: false
          schema:
            type: string
            nullable: true
          example: SendLiquidity
        - name: addr_str
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/OperationsResponse'
  /v1/wallets/{addr_str}/pools:
    get:
      tags:
        - Wallets
      operationId: get_wallet_pools
      parameters:
        - name: addr_str
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/PoolListResponse'
  /v1/wallets/{addr_str}/pools/{pool_str}:
    get:
      tags:
        - Wallets
      operationId: get_wallet_pool
      parameters:
        - name: addr_str
          in: path
          required: true
          schema:
            type: string
        - name: pool_str
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/PoolResponse'
components:
  schemas:
    AssetInfoSchema:
      type: object
      required:
        - contract_address
        - symbol
        - priority
        - decimals
        - kind
        - deprecated
        - community
        - blacklisted
        - default_symbol
        - taxable
        - tags
      properties:
        balance:
          type: string
          description: Asset balance
          nullable: true
        blacklisted:
          type: boolean
          description: Asset is blacklisted
        community:
          type: boolean
          description: Asset is community created
        contract_address:
          type: string
          description: Address of smart contract
        decimals:
          type: integer
          format: int32
          description: Number of decimal places used to represent fractional amounts of an asset
          minimum: 0
        default_symbol:
          type: boolean
          description: Asset has default symbol
        deprecated:
          type: boolean
          description: Asset is deprecated
        dex_price_usd:
          type: string
          description: Ston internal asset price in USD
          nullable: true
        dex_usd_price:
          type: string
          description: '[DEPRECATED] Ston internal asset price in USD'
          nullable: true
        display_name:
          type: string
          description: Displayable name
          nullable: true
        image_url:
          type: string
          description: URL to asset image
          nullable: true
        kind:
          $ref: '#/components/schemas/AssetKindSchema'
        priority:
          type: integer
          format: int32
          description: Asset priority for ease of display
          minimum: 0
        symbol:
          type: string
          description: Asset symbol
        tags:
          type: array
          items:
            type: string
          description: Asset tags
        taxable:
          type: boolean
          description: Asset may have fee from the authors
        third_party_price_usd:
          type: string
          description: Asset price in USD
          nullable: true
        third_party_usd_price:
          type: string
          description: '[DEPRECATED] Asset price in USD'
          nullable: true
        wallet_address:
          type: string
          description: Asset wallet address
          nullable: true
    AssetInfoSchemaV2:
      type: object
      required:
        - contract_address
        - kind
      properties:
        balance:
          type: string
          description: Asset balance
          nullable: true
        contract_address:
          type: string
          description: Address of smart contract
        dex_price_usd:
          type: string
          description: Ston internal asset price in USD
          nullable: true
        kind:
          $ref: '#/components/schemas/AssetKindSchema'
        meta:
          allOf:
            - $ref: '#/components/schemas/AssetMetaSchemaV2'
          nullable: true
        pair_priority:
          type: integer
          format: int32
          description: Asset priority for ease of display
          nullable: true
          minimum: 0
        tags:
          type: array
          items:
            type: string
          description: Asset tags
        wallet_address:
          type: string
          description: Asset wallet address
          nullable: true
    AssetInfoScreenerSchema:
      type: object
      required:
        - id
        - symbol
        - name
        - totalSupply
      properties:
        circulatingSupply:
          type: string
          description: Circulationg supply
          nullable: true
        id:
          type: string
          description: Address of smart contract
        name:
          type: string
          description: Displayable name
        symbol:
          type: string
          description: Asset symbol
        totalSupply:
          type: string
          description: Total supply
    AssetKindSchema:
      type: string
      enum:
        - Jetton
        - Wton
        - Ton
        - NotAnAsset
    AssetMetaSchemaV2:
      type: object
      properties:
        decimals:
          type: integer
          format: int32
          description: Number of decimal places used to represent fractional amounts of an asset
          nullable: true
          minimum: 0
        display_name:
          type: string
          description: Displayable name
          nullable: true
        image_url:
          type: string
          description: URL to asset image
          nullable: true
        symbol:
          type: string
          description: Asset symbol
          nullable: true
    BlockSchema:
      type: object
      required:
        - blockNumber
        - blockTimestamp
      properties:
        blockNumber:
          type: integer
          format: int32
        blockTimestamp:
          type: integer
          format: int64
    CmcPoolStats:
      type: object
      required:
        - url
        - base_id
        - base_name
        - base_symbol
        - quote_id
        - quote_name
        - quote_symbol
        - last_price
        - base_volume
        - quote_volume
        - base_liquidity
        - quote_liquidity
      properties:
        base_id:
          type: string
          description: Base token id
        base_liquidity:
          type: string
          description: Base asset liquidity
        base_name:
          type: string
          description: Base token name
        base_symbol:
          type: string
          description: Base token symbol
        base_volume:
          type: string
          description: Volume of base asset
        last_price:
          type: string
          description: Last asset quota price in base assets
        quote_id:
          type: string
          description: Quote token address
        quote_liquidity:
          type: string
          description: Quote asset liquidity
        quote_name:
          type: string
          description: Quote token name
        quote_symbol:
          type: string
          description: Quote token symbol
        quote_volume:
          type: string
          description: Volume of quote asset
        url:
          type: string
          description: URL to pool
    DexStats:
      type: object
      required:
        - tvl
        - volume_usd
        - unique_wallets
        - trades
      properties:
        trades:
          type: integer
          format: int64
          minimum: 0
        tvl:
          type: string
        unique_wallets:
          type: integer
          format: int64
          minimum: 0
        volume_usd:
          type: string
    EventSchema:
      allOf:
        - $ref: '#/components/schemas/EventType'
        - type: object
          required:
            - block
          properties:
            block:
              $ref: '#/components/schemas/BlockSchema'
    EventType:
      oneOf:
        - allOf:
            - $ref: '#/components/schemas/LiquidityEvent'
            - type: object
              required:
                - eventType
              properties:
                eventType:
                  type: string
                  enum:
                    - join
        - allOf:
            - $ref: '#/components/schemas/LiquidityEvent'
            - type: object
              required:
                - eventType
              properties:
                eventType:
                  type: string
                  enum:
                    - exit
        - allOf:
            - $ref: '#/components/schemas/SwapEvent'
            - type: object
              required:
                - eventType
              properties:
                eventType:
                  type: string
                  enum:
                    - swap
      discriminator:
        propertyName: eventType
    FarmInfoSchema:
      type: object
      required:
        - minter_address
        - pool_address
        - reward_token_address
        - status
        - min_stake_duration_s
        - nft_infos
      properties:
        apy:
          type: string
          description: Annual percentage yield
          nullable: true
        min_stake_duration_s:
          type: string
          description: Minimal stake duration seconds
        minter_address:
          type: string
          description: Address of the farm
        nft_infos:
          type: array
          items:
            $ref: '#/components/schemas/FarmNftInfoSchema'
          description: Farm NFT list
        pool_address:
          type: string
          description: Address of the pool
        reward_token_address:
          type: string
          description: Address of the reward token
        status:
          type: string
          description: Minter status
    FarmNftInfoSchema:
      type: object
      required:
        - address
        - staked_tokens
        - nonclaimed_rewards
        - min_unstake_timestamp
        - status
        - create_timestamp
        - rewards
      properties:
        address:
          type: string
          description: NFT address
        create_timestamp:
          type: string
          description: NFT creation timestamp
        min_unstake_timestamp:
          type: string
          description: Minimal unstake timestamp
        nonclaimed_rewards:
          type: string
          description: Nonclaimed rewards
        rewards:
          type: array
          items:
            $ref: '#/components/schemas/FarmNftRewardInfoSchema'
          description: Farm rewards
        staked_tokens:
          type: string
          description: Amount of staked tokens
        status:
          type: string
          description: NFT status
    FarmNftRewardInfoSchema:
      type: object
      required:
        - address
        - amount
      properties:
        address:
          type: string
        amount:
          type: string
    LiquidityEvent:
      type: object
      required:
        - txnId
        - txnIndex
        - eventIndex
        - maker
        - pairId
        - amount0
        - amount1
      properties:
        amount0:
          type: string
        amount1:
          type: string
        eventIndex:
          type: integer
          format: int64
          minimum: 0
        maker:
          type: string
        pairId:
          type: string
        reserves:
          allOf:
            - $ref: '#/components/schemas/Reserves'
          nullable: true
        txnId:
          type: string
        txnIndex:
          type: integer
          format: int64
    OperationStat:
      type: object
      required:
        - pool_tx_hash
        - pool_address
        - router_address
        - pool_tx_lt
        - pool_tx_timestamp
        - destination_wallet_address
        - operation_type
        - success
        - exit_code
        - asset0_address
        - asset0_amount
        - asset0_delta
        - asset0_reserve
        - asset1_address
        - asset1_amount
        - asset1_delta
        - asset1_reserve
        - lp_token_delta
        - lp_token_supply
        - lp_fee_amount
        - protocol_fee_amount
        - referral_fee_amount
        - wallet_address
        - wallet_tx_lt
        - wallet_tx_hash
        - wallet_tx_timestamp
      properties:
        asset0_address:
          type: string
          description: Address of asset0
        asset0_amount:
          type: string
          description: Amount of asset0
        asset0_delta:
          type: string
          description: Delta of asset0
        asset0_reserve:
          type: string
          description: Reserve of asset0
        asset1_address:
          type: string
          description: Address of asset1
        asset1_amount:
          type: string
          description: Amount of asset1
        asset1_delta:
          type: string
          description: Delta of asset1
        asset1_reserve:
          type: string
          description: Reserve of asset1
        destination_wallet_address:
          type: string
          description: Address of destination wallet
        exit_code:
          type: string
          description: Operation exit code
        fee_asset_address:
          type: string
          description: Liquidity pool fee asset address
          nullable: true
        lp_fee_amount:
          type: string
          description: Liquidity pool fee amount
        lp_token_delta:
          type: string
          description: Liquidity pool token amount change
        lp_token_supply:
          type: string
          description: Liquidity pool token amount supply
        operation_type:
          type: string
          description: Type of operation
          example: swap
        pool_address:
          type: string
          description: Address of the pool
        pool_tx_hash:
          type: string
          description: Transaction hash
        pool_tx_lt:
          type: integer
          format: int64
          description: Transaction logical time
        pool_tx_timestamp:
          type: string
          description: Transaction timestamp
        protocol_fee_amount:
          type: string
          description: Protocol fee amount
        referral_address:
          type: string
          description: Referral fee address
          nullable: true
        referral_fee_amount:
          type: string
          description: Referral fee amount
        router_address:
          type: string
          description: Address of the router
        success:
          type: boolean
          description: Operation is successful
        wallet_address:
          type: string
          description: Wallet address
        wallet_tx_hash:
          type: string
          description: Transaction hash
        wallet_tx_lt:
          type: string
          description: Transaction logical time
        wallet_tx_timestamp:
          type: string
          description: Transaction timestamp
    OperationStatus:
      type: object
      required:
        - address
        - query_id
        - exit_code
        - coins
        - logical_time
        - tx_hash
        - balance_deltas
      properties:
        address:
          type: string
          description: Wallet address
        balance_deltas:
          type: string
          description: Changes in balance
        coins:
          type: string
          description: Transaction coins
        exit_code:
          type: string
          description: Exit code of operation
        logical_time:
          type: string
          description: Operation logical time
        query_id:
          type: string
          description: Id of operation status query
        tx_hash:
          type: string
          format: binary
          description: Operation hash
    OperationsInfo:
      type: object
      required:
        - operation
        - asset0_info
        - asset1_info
      properties:
        asset0_info:
          $ref: '#/components/schemas/AssetInfoSchema'
        asset1_info:
          $ref: '#/components/schemas/AssetInfoSchema'
        operation:
          $ref: '#/components/schemas/OperationStat'
    PoolInfoSchema:
      type: object
      required:
        - address
        - router_address
        - reserve0
        - reserve1
        - token0_address
        - token1_address
        - lp_total_supply
        - lp_fee
        - protocol_fee
        - ref_fee
        - protocol_fee_address
        - collected_token0_protocol_fee
        - collected_token1_protocol_fee
        - deprecated
      properties:
        address:
          type: string
          description: Address of pool
        apy_1d:
          type: string
          description: Annual percentage yield on the last day
          nullable: true
        apy_30d:
          type: string
          description: Annual percentage yield on the last month
          nullable: true
        apy_7d:
          type: string
          description: Annual percentage yield on the last week
          nullable: true
        collected_token0_protocol_fee:
          type: string
          description: Protocol fee collected in token0
        collected_token1_protocol_fee:
          type: string
          description: Protocol fee collected in token1
        deprecated:
          type: boolean
          description: Pool is deprecated
        lp_account_address:
          type: string
          description: Account address of liquidity pool tokens
          nullable: true
        lp_balance:
          type: string
          description: Balance of liquidity pool tokens
          nullable: true
        lp_fee:
          type: string
          description: Fee of liquidity pool token
        lp_price_usd:
          type: string
          description: Price of liquidity pool token in USD
          nullable: true
        lp_total_supply:
          type: string
          description: Total supply of liquidity pool tokens
        lp_total_supply_usd:
          type: string
          description: Total supply of liquidity pool tokens in USD
          nullable: true
        lp_wallet_address:
          type: string
          description: Wallet address of liquidity pool tokens
          nullable: true
        protocol_fee:
          type: string
          description: Fee of protocol
        protocol_fee_address:
          type: string
          description: Address of protocol fee
        ref_fee:
          type: string
          description: Referral fee
        reserve0:
          type: string
          description: Reserve of token0 in pool
        reserve1:
          type: string
          description: Reserve of token1 in pool
        router_address:
          type: string
          description: Address of router
        token0_address:
          type: string
          description: Address of token0
        token0_balance:
          type: string
          description: Balance of token0
          nullable: true
        token1_address:
          type: string
          description: Address of token1
        token1_balance:
          type: string
          description: Balance of token1
          nullable: true
    PoolInfoScreenerSchema:
      type: object
      required:
        - id
        - asset0Id
        - asset1Id
      properties:
        asset0Id:
          type: string
          description: First asset in pair address
        asset1Id:
          type: string
          description: First asset in pair address
        createdAtBlockNumber:
          type: integer
          format: int32
          description: Pool creation block number
          nullable: true
        createdAtBlockTimestamp:
          type: integer
          format: int64
          description: Pool creation block number
          nullable: true
        createdAtTxnId:
          type: string
          description: Pool creation transaction id
          nullable: true
        feeBps:
          type: integer
          format: int32
          description: Protocol fee in base points
          nullable: true
          minimum: 0
        id:
          type: string
          description: Liquidity pool address
    PoolStats:
      type: object
      required:
        - pool_address
        - router_address
        - url
        - base_id
        - base_name
        - base_symbol
        - quote_id
        - quote_name
        - quote_symbol
        - last_price
        - base_volume
        - quote_volume
        - base_liquidity
        - quote_liquidity
        - lp_price
        - lp_price_usd
      properties:
        apy:
          type: string
          description: Annual percentage yield
          nullable: true
        base_id:
          type: string
          description: Base asset id
        base_liquidity:
          type: string
          description: Amount of liquidity of base asset
        base_name:
          type: string
          description: Base asset name
        base_symbol:
          type: string
          description: Base asset symbol
        base_volume:
          type: string
          description: volume of base asset
        last_price:
          type: string
          description: Last asset quota price in base assets
        lp_price:
          type: string
          description: '[DEPRECATED] Liquidity pool token price'
        lp_price_usd:
          type: string
          description: Liquidity pool token price
        pool_address:
          type: string
          description: Address of the pool
        quote_id:
          type: string
          description: Quote asset id
        quote_liquidity:
          type: string
          description: Amount of liquidity of quote asset
        quote_name:
          type: string
          description: Quote asset name
        quote_symbol:
          type: string
          description: Quote asset symbol
        quote_volume:
          type: string
          description: Volume of quote asset
        router_address:
          type: string
          description: Address of router
        url:
          type: string
          description: URL of the pool
    Reserves:
      type: object
      required:
        - asset0
        - asset1
      properties:
        asset0:
          type: string
        asset1:
          type: string
    SwapEvent:
      type: object
      required:
        - txnId
        - txnIndex
        - eventIndex
        - maker
        - pairId
        - priceNative
      properties:
        amount0In:
          type: string
          nullable: true
        amount0Out:
          type: string
          nullable: true
        amount1In:
          type: string
          nullable: true
        amount1Out:
          type: string
          nullable: true
        eventIndex:
          type: integer
          format: int64
          minimum: 0
        maker:
          type: string
        pairId:
          type: string
        priceNative:
          type: string
        reserves:
          allOf:
            - $ref: '#/components/schemas/Reserves'
          nullable: true
        txnId:
          type: string
        txnIndex:
          type: integer
          format: int64
  responses:
    AddressResponse:
      description: Ton Address
      content:
        application/json:
          schema:
            type: object
            required:
              - address
            properties:
              address:
                type: string
    AssetInfoScreenerResponse:
      description: Asset
      content:
        application/json:
          schema:
            type: object
            required:
              - asset
            properties:
              asset:
                $ref: '#/components/schemas/AssetInfoScreenerSchema'
    AssetListResponse:
      description: List of available assets
      content:
        application/json:
          schema:
            type: object
            required:
              - asset_list
            properties:
              asset_list:
                type: array
                items:
                  $ref: '#/components/schemas/AssetInfoSchema'
    AssetListResponseV2:
      description: List of available assets
      content:
        application/json:
          schema:
            type: object
            required:
              - asset_list
            properties:
              asset_list:
                type: array
                items:
                  $ref: '#/components/schemas/AssetInfoSchemaV2'
    AssetResponse:
      description: Info about the asset
      content:
        application/json:
          schema:
            type: object
            required:
              - asset
            properties:
              asset:
                $ref: '#/components/schemas/AssetInfoSchema'
    DexStatsResponse:
      description: Wallet operations in pools
      content:
        application/json:
          schema:
            type: object
            required:
              - since
              - until
              - stats
            properties:
              since:
                type: string
              stats:
                $ref: '#/components/schemas/DexStats'
              until:
                type: string
    EventsResponse:
      description: Events
      content:
        application/json:
          schema:
            type: object
            required:
              - event
            properties:
              event:
                $ref: '#/components/schemas/EventSchema'
    FarmListResponse:
      description: List of available farms
      content:
        application/json:
          schema:
            type: object
            required:
              - farm_list
            properties:
              farm_list:
                type: array
                items:
                  $ref: '#/components/schemas/FarmInfoSchema'
    FarmResponse:
      description: Farm info
      content:
        application/json:
          schema:
            type: object
            required:
              - farm
            properties:
              farm:
                $ref: '#/components/schemas/FarmInfoSchema'
    LatestBlockResponse:
      description: Latest Block
      content:
        application/json:
          schema:
            type: object
            required:
              - block
            properties:
              block:
                $ref: '#/components/schemas/BlockSchema'
    MarketListResponse:
      description: List of available pairs
      content:
        application/json:
          schema:
            type: object
            required:
              - pairs
            properties:
              pairs:
                type: array
                items:
                  type: string
    OperationStatusResponse:
      description: ''
      content:
        application/json:
          schema:
            oneOf:
              - allOf:
                  - $ref: '#/components/schemas/OperationStatus'
                  - type: object
                    required:
                      - '@type'
                    properties:
                      '@type':
                        type: string
                        enum:
                          - Found
              - type: object
                required:
                  - '@type'
                properties:
                  '@type':
                    type: string
                    enum:
                      - NotFound
            discriminator:
              propertyName: '@type'
    OperationsResponse:
      description: Wallet operations in pools
      content:
        application/json:
          schema:
            type: object
            required:
              - operations
            properties:
              operations:
                type: array
                items:
                  $ref: '#/components/schemas/OperationsInfo'
    PoolInfoScreenerResponse:
      description: Pair
      content:
        application/json:
          schema:
            type: object
            required:
              - pair
            properties:
              pair:
                $ref: '#/components/schemas/PoolInfoScreenerSchema'
    PoolListResponse:
      description: List of available pools
      content:
        application/json:
          schema:
            type: object
            required:
              - pool_list
            properties:
              pool_list:
                type: array
                items:
                  $ref: '#/components/schemas/PoolInfoSchema'
    PoolResponse:
      description: Pool info
      content:
        application/json:
          schema:
            type: object
            required:
              - pool
            properties:
              pool:
                $ref: '#/components/schemas/PoolInfoSchema'
    PoolStatsResponse:
      description: Pools statistics for specified period
      content:
        application/json:
          schema:
            type: object
            required:
              - since
              - until
              - unique_wallets_count
              - stats
            properties:
              since:
                type: string
                description: Time since the stats are requested (YYYY-MM-DDTHH:MM:SS)
              stats:
                type: array
                items:
                  $ref: '#/components/schemas/PoolStats'
                description: Stats of each pool
              unique_wallets_count:
                type: integer
                format: int64
                description: Number of unique wallets operated in pool
                minimum: 0
              until:
                type: string
                description: Time until the stats are requested (YYYY-MM-DDTHH:MM:SS)
    SimulateSwapResponse:
      description: Simulate swap response
      content:
        application/json:
          schema:
            type: object
            required:
              - offer_address
              - ask_address
              - offer_jetton_wallet
              - ask_jetton_wallet
              - router_address
              - pool_address
              - offer_units
              - ask_units
              - slippage_tolerance
              - min_ask_units
              - swap_rate
              - price_impact
              - fee_address
              - fee_units
              - fee_percent
            properties:
              ask_address:
                type: string
                description: Address of the wallet to which the operation is simulated
              ask_jetton_wallet:
                type: string
                description: Address of the pool's(asked) jetton wallet
              ask_units:
                type: string
                description: Token units asked
              fee_address:
                type: string
                description: Fee address
              fee_percent:
                type: string
                description: fee percent
              fee_units:
                type: string
                description: Fee units
              min_ask_units:
                type: string
                description: Minimal amount of ask units
              offer_address:
                type: string
                description: Address of the wallet from which the operation is simulated
              offer_jetton_wallet:
                type: string
                description: Address of the pool's(offered) jetton wallet
              offer_units:
                type: string
                description: Token units offered
              pool_address:
                type: string
                description: Address of the pool
              price_impact:
                type: string
                description: Price impact
              router_address:
                type: string
                description: Address of the operation router
              slippage_tolerance:
                type: string
                description: Difference between the original price of order and the final price
              swap_rate:
                type: string
                description: Swap rate
tags:
  - name: Dex
    description: DEX operations and entities
  - name: Jetton
    description: Jetton specific data
  - name: Wallets
    description: Wallets specific data
  - name: Screener
    description: DEX Screener Adapter
  - name: Stats
    description: STON.fi statistics API version 1
  - name: Export
    description: Data export to 3rd-party applications
